{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{ToastContainer}from'react-toastify';import{handleError,handleSuccess}from'../utils';import'../styles/Signup.css';import signupBg from'../assets/signup-bg.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){const[signupInfo,setSignupInfo]=useState({name:'',dob:'',email:''});const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setSignupInfo(prev=>({...prev,[name]:value}));};const handleSignup=async e=>{e.preventDefault();const{name,dob,email}=signupInfo;if(!name||!dob||!email){return handleError('All fields are required');}try{const response=await fetch('http://localhost:4000/auth/signup',{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(signupInfo)});const result=await response.json();if(result.success){handleSuccess(result.message||'OTP sent');setTimeout(()=>navigate('/verify-otp'),1000);}else{var _result$error,_result$error$details,_result$error$details2;handleError((result===null||result===void 0?void 0:(_result$error=result.error)===null||_result$error===void 0?void 0:(_result$error$details=_result$error.details)===null||_result$error$details===void 0?void 0:(_result$error$details2=_result$error$details[0])===null||_result$error$details2===void 0?void 0:_result$error$details2.message)||result.message||'Signup failed');}}catch(err){handleError('Network error or server unreachable');console.error(err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"\\uD83C\\uDF10 HD\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Sign up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Sign up to enjoy the feature of HD\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSignup,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Your Name\",value:signupInfo.name,onChange:handleChange,className:\"input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dob-wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"dob\",placeholder:\"Date of Birth\",value:signupInfo.dob,onChange:handleChange,className:\"input dob\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:signupInfo.email,onChange:handleChange,className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Get OTP\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"switch-text\",children:[\"Already have an account?? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign in\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:signupBg,alt:\"Signup Background\"})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000})]});}export default Signup;","map":{"version":3,"names":["React","useState","Link","useNavigate","ToastContainer","handleError","handleSuccess","signupBg","jsx","_jsx","jsxs","_jsxs","Signup","signupInfo","setSignupInfo","name","dob","email","navigate","handleChange","e","value","target","prev","handleSignup","preventDefault","response","fetch","method","headers","body","JSON","stringify","result","json","success","message","setTimeout","_result$error","_result$error$details","_result$error$details2","error","details","err","console","className","children","onSubmit","type","placeholder","onChange","to","src","alt","position","autoClose"],"sources":["/home/victus/Desktop/Notes_app/frontend/src/pages/Signup.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport { handleError, handleSuccess } from '../utils';\nimport '../styles/Signup.css';\nimport signupBg from '../assets/signup-bg.png';\n\nfunction Signup() {\n    const [signupInfo, setSignupInfo] = useState({\n        name: '',\n        dob: '',\n        email: '',\n    });\n\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setSignupInfo(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSignup = async (e) => {\n        e.preventDefault();\n        const { name, dob, email } = signupInfo;\n\n        if (!name || !dob || !email) {\n            return handleError('All fields are required');\n        }\n\n        try {\n            const response = await fetch('http://localhost:4000/auth/signup', {\n                method: \"POST\",\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(signupInfo)\n            });\n\n            const result = await response.json();\n            if (result.success) {\n                handleSuccess(result.message || 'OTP sent');\n                setTimeout(() => navigate('/verify-otp'), 1000);\n            } else {\n                handleError(result?.error?.details?.[0]?.message || result.message || 'Signup failed');\n            }\n        } catch (err) {\n            handleError('Network error or server unreachable');\n            console.error(err);\n        }\n    };\n\n    return (\n        <div className=\"auth-wrapper\">\n            <div className=\"form-section\">\n                <div className=\"logo\">üåê HD</div>\n                <h2 className=\"title\">Sign up</h2>\n                <p className=\"subtitle\">Sign up to enjoy the feature of HD</p>\n\n                <form className=\"form\" onSubmit={handleSignup}>\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"Your Name\"\n                        value={signupInfo.name}\n                        onChange={handleChange}\n                        className=\"input\"\n                    />\n                    <div className=\"dob-wrapper\">\n                        <span className=\"icon\">üìÖ</span>\n                        <input\n                            type=\"text\"\n                            name=\"dob\"\n                            placeholder=\"Date of Birth\"\n                            value={signupInfo.dob}\n                            onChange={handleChange}\n                            className=\"input dob\"\n                        />\n                    </div>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        placeholder=\"Email\"\n                        value={signupInfo.email}\n                        onChange={handleChange}\n                        className=\"input\"\n                    />\n                    <button type=\"submit\" className=\"btn\">Get OTP</button>\n                    <p className=\"switch-text\">Already have an account?? <Link to=\"/login\">Sign in</Link></p>\n                </form>\n            </div>\n\n            <div className=\"image-section\">\n                <img src={signupBg} alt=\"Signup Background\" />\n            </div>\n\n            <ToastContainer position=\"top-center\" autoClose={3000} />\n        </div>\n    );\n}\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}