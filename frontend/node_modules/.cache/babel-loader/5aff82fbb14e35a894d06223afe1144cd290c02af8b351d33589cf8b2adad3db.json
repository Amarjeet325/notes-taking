{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{ToastContainer}from'react-toastify';import{handleError,handleSuccess}from'../utils';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const navigate=useNavigate();const[loggedInUser,setLoggedInUser]=useState('');const[email,setEmail]=useState('');const[notes,setNotes]=useState(['Note 1','Note 2']);useEffect(()=>{const user=localStorage.getItem('loggedInUser');const email=localStorage.getItem('loggedInEmail');if(!user||!email){handleError('Unauthorized access. Please login.');navigate('/login');}else{setLoggedInUser(user);setEmail(email);}},[navigate]);const handleLogout=()=>{localStorage.clear();handleSuccess('User logged out');setTimeout(()=>navigate('/login'),1000);};const handleCreateNote=()=>{const newNote=\"Note \".concat(notes.length+1);setNotes([...notes,newNote]);};const handleDeleteNote=index=>{const updated=notes.filter((_,i)=>i!==index);setNotes(updated);};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"signout-btn\",onClick:handleLogout,children:\"Sign Out\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-box\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Welcome, \",loggedInUser,\" !\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",email.replace(/(.{2}).+(@.+)/,\"$1xxxxx$2\")]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"create-note-btn\",onClick:handleCreateNote,children:\"Create Note\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notes-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Notes\"}),notes.map((note,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"note-card\",children:[/*#__PURE__*/_jsx(\"span\",{children:note}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDeleteNote(idx),children:\"\\uD83D\\uDDD1\\uFE0F\"})]},idx))]}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","ToastContainer","handleError","handleSuccess","jsx","_jsx","jsxs","_jsxs","Home","navigate","loggedInUser","setLoggedInUser","email","setEmail","notes","setNotes","user","localStorage","getItem","handleLogout","clear","setTimeout","handleCreateNote","newNote","concat","length","handleDeleteNote","index","updated","filter","_","i","className","children","onClick","replace","map","note","idx","position","autoClose"],"sources":["/home/victus/Desktop/Notes_app/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport { handleError, handleSuccess } from '../utils';\nimport './Home.css';\n\nfunction Home() {\n    const navigate = useNavigate();\n    const [loggedInUser, setLoggedInUser] = useState('');\n    const [email, setEmail] = useState('');\n    const [notes, setNotes] = useState(['Note 1', 'Note 2']);\n\n    useEffect(() => {\n        const user = localStorage.getItem('loggedInUser');\n        const email = localStorage.getItem('loggedInEmail');\n        if (!user || !email) {\n            handleError('Unauthorized access. Please login.');\n            navigate('/login');\n        } else {\n            setLoggedInUser(user);\n            setEmail(email);\n        }\n    }, [navigate]);\n\n    const handleLogout = () => {\n        localStorage.clear();\n        handleSuccess('User logged out');\n        setTimeout(() => navigate('/login'), 1000);\n    };\n\n    const handleCreateNote = () => {\n        const newNote = `Note ${notes.length + 1}`;\n        setNotes([...notes, newNote]);\n    };\n\n    const handleDeleteNote = (index) => {\n        const updated = notes.filter((_, i) => i !== index);\n        setNotes(updated);\n    };\n\n    return (\n        <div className=\"dashboard-container\">\n            {/* Header */}\n            <header className=\"dashboard-header\">\n                <div className=\"spinner\" />\n                <h2>Dashboard</h2>\n                <button className=\"signout-btn\" onClick={handleLogout}>Sign Out</button>\n            </header>\n\n            {/* User Info Box */}\n            <div className=\"user-box\">\n                <h3>Welcome, {loggedInUser} !</h3>\n                <p>Email: {email.replace(/(.{2}).+(@.+)/, \"$1xxxxx$2\")}</p>\n            </div>\n\n            {/* Create Note Button */}\n            <button className=\"create-note-btn\" onClick={handleCreateNote}>\n                Create Note\n            </button>\n\n            {/* Notes List */}\n            <div className=\"notes-section\">\n                <h4>Notes</h4>\n                {notes.map((note, idx) => (\n                    <div key={idx} className=\"note-card\">\n                        <span>{note}</span>\n                        <button className=\"delete-btn\" onClick={() => handleDeleteNote(idx)}>üóëÔ∏è</button>\n                    </div>\n                ))}\n            </div>\n\n            <ToastContainer position=\"top-center\" autoClose={3000} />\n        </div>\n    );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}